<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Map</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="http://maps.googleapis.com/maps/api/js"></script>
    <script>
      var myCenter=new google.maps.LatLng(47.606115, -122.335834);
      var map; 
      function initialize()
      {
        var mapProp = {
          center:myCenter,
          zoom:17,
          mapTypeId:google.maps.MapTypeId.ROADMAP
          };

        map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

        var marker=new google.maps.Marker({
          position:myCenter,
          });

        marker.setMap(map);
        var response = {{ responsedata|tojson }}; 
        for (var stop in response) {
          addMarker(response[stop]['lat'],response[stop]['lon'], response[stop]['name']); 
        }

      }

      google.maps.event.addDomListener(window, 'load', initialize);
      
      function addMarker(lat, lon, name) {
        var myLatlng=new google.maps.LatLng(lat, lon);
                      // To add the marker to the map, use the 'map' property

        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: name, 
            icon: '../static/img/busstop.png'
        });

        marker.setMap(map); 

      }
    </script>

  </head>
  <body>

    <h1>Hackcessibility</h1> 
    <div id="googleMap" style="width:320px;height:568px;"></div>
    <h4>Key:</h4>
    <ul>
      <li>Elevation: </li>
      <li>Curb Ramp: </li>
      <li>Bus stop wheelchair accessibile: </li>
      <li>Construction: </li>
      <li>Elevator: </li> 
      <li>Stairs: </li>
    </ul> 
    <div id="myDiv"> </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
  <footer>
    <a href="http://www.walkscore.com/WA/Seattle">Seattle public transit data from WalkScore</a>
  </footer>
</html>